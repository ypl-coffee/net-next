[
    {
        "id": "9872",
        "name": "Add ingress qdisc",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true"
        ],
        "cmdUnderTest": "$TC qdisc add dev $DUMMY ingress",
        "expExitCode": "0",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:",
        "matchCount": "1",
        "teardown": [
            "$TC qdisc del dev $DUMMY ingress",
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "5c5e",
        "name": "Add ingress qdisc with unsupported argument",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true"
        ],
        "cmdUnderTest": "$TC qdisc add dev $DUMMY ingress foorbar",
        "expExitCode": "1",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:",
        "matchCount": "0",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "74f6",
        "name": "Add duplicate ingress qdisc",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true",
            "$TC qdisc add dev $DUMMY ingress"
        ],
        "cmdUnderTest": "$TC qdisc add dev $DUMMY ingress",
        "expExitCode": "2",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:",
        "matchCount": "1",
        "teardown": [
            "$TC qdisc del dev $DUMMY ingress",
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "f769",
        "name": "Delete nonexistent ingress qdisc",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true"
        ],
        "cmdUnderTest": "$TC qdisc del dev $DUMMY ingress",
        "expExitCode": "2",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:",
        "matchCount": "0",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "3b88",
        "name": "Delete ingress qdisc twice",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true",
            "$TC qdisc add dev $DUMMY ingress",
            "$TC qdisc del dev $DUMMY ingress"
        ],
        "cmdUnderTest": "$TC qdisc del dev $DUMMY ingress",
        "expExitCode": "2",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:",
        "matchCount": "0",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "8e8c",
        "name": "Enable clsact egress mini-qdisc for ingress",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true",
            "$TC qdisc add dev $DUMMY ingress"
        ],
        "cmdUnderTest": "$TC qdisc change dev $DUMMY ingress clsact-on",
        "expExitCode": "0",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:.*clsact",
        "matchCount": "1",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "3a76",
        "name": "Disable clsact egress mini-qdisc for ingress",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true",
            "$TC qdisc add dev $DUMMY ingress",
            "$TC qdisc change dev $DUMMY ingress clsact-on"
        ],
        "cmdUnderTest": "$TC qdisc change dev $DUMMY ingress clsact-off",
        "expExitCode": "0",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:.*clsact",
        "matchCount": "0",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "7b2b",
        "name": "Enable clsact egress mini-qdisc for ingress twice",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true",
            "$TC qdisc add dev $DUMMY ingress",
            "$TC qdisc change dev $DUMMY ingress clsact-on"
        ],
        "cmdUnderTest": "$TC qdisc change dev $DUMMY ingress clsact-on",
        "expExitCode": "2",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:.*clsact",
        "matchCount": "1",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    },
    {
        "id": "05ab",
        "name": "Disable clsact egress mini-qdisc for ingress twice",
        "category": [
            "qdisc",
            "ingress"
        ],
        "setup": [
            "$IP link add dev $DUMMY type dummy || /bin/true",
            "$TC qdisc add dev $DUMMY ingress",
            "$TC qdisc change dev $DUMMY ingress clsact-on",
            "$TC qdisc change dev $DUMMY ingress clsact-off"
        ],
        "cmdUnderTest": "$TC qdisc change dev $DUMMY ingress clsact-off",
        "expExitCode": "2",
        "verifyCmd": "$TC qdisc show dev $DUMMY",
        "matchPattern": "qdisc ingress ffff:.*clsact",
        "matchCount": "0",
        "teardown": [
            "$IP link del dev $DUMMY type dummy"
        ]
    }
]
